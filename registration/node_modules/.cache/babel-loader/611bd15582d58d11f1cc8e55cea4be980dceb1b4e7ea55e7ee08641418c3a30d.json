{"ast":null,"code":"import _toConsumableArray from\"/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import react,{useEffect,useState}from'react';import{useLogout}from'../hooks/useLogout';import{useNavigate}from'react-router-dom';import{useAuthContext}from'../hooks/useAuthContext';import{useReviewContext}from'../hooks/useReviewContext';import{FaStar}from'react-icons/fa';import NavBar from'../items/NavBar';import'./Home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useReviewContext=useReviewContext(),reviews=_useReviewContext.reviews,dispatch=_useReviewContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var navigate=useNavigate();var _useLogout=useLogout(),logout=_useLogout.logout;useEffect(function(){var fetchReviews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/api/review');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;if(response.ok){dispatch({type:'SET_REVIEW',payload:json});}case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchReviews(){return _ref.apply(this,arguments);};}();fetchReviews();});return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(NavBar,{}),user&&/*#__PURE__*/_jsx(\"div\",{className:\"Create-Button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"write-review\",onClick:function onClick(){return navigate(\"/create\");},children:\"Write a Review\"})}),!user&&/*#__PURE__*/_jsx(\"div\",{className:\"nonloggedinuser\",children:\"Sign-in or Sign-Up to write Reviews!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews\",children:reviews&&reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"review-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:review.name}),_toConsumableArray(Array(review.rating)).map(function(index){return/*#__PURE__*/_jsx(FaStar,{className:\"star\",size:25,color:review.rating<=review.rating?\"#ffc107\":\"#e4e5e9\"});}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-post\",children:[\" \",review.post,\" \"]})]});})})]});};export default Home;","map":{"version":3,"names":["react","useEffect","useState","useLogout","useNavigate","useAuthContext","useReviewContext","FaStar","NavBar","jsx","_jsx","jsxs","_jsxs","Home","_useReviewContext","reviews","dispatch","_useAuthContext","user","navigate","_useLogout","logout","fetchReviews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","json","wrap","_callee$","_context","prev","next","fetch","sent","ok","type","payload","stop","apply","arguments","className","children","onClick","map","review","name","_toConsumableArray","Array","rating","index","size","color","post"],"sources":["/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/src/components/Review.jsx"],"sourcesContent":["import react,{useEffect,useState} from 'react'\nimport {useLogout} from '../hooks/useLogout'\nimport { useNavigate } from 'react-router-dom'\nimport { useAuthContext } from '../hooks/useAuthContext'\nimport { useReviewContext } from '../hooks/useReviewContext'\nimport {FaStar} from 'react-icons/fa'\nimport NavBar from '../items/NavBar'\nimport './Home.css'\nconst Home = () => {\n    const {reviews,dispatch} = useReviewContext()\n    const {user} = useAuthContext()\n    const navigate = useNavigate()\n    const {logout} = useLogout()\n\n    \n   \n    useEffect(() => {\n        const fetchReviews = async () => {\n            const response = await fetch('http://localhost:8000/api/review')\n            const json = await response.json()\n            \n            if(response.ok){\n                dispatch({type:'SET_REVIEW', payload:json})\n            }\n        }\n       \n            fetchReviews()\n        \n       \n    })\n    \n    return(\n        \n        <div className='main-container'>\n            <NavBar />\n            {user &&(\n           <div className='Create-Button'>\n            <button className='write-review' onClick={()=> navigate(\"/create\")}>Write a Review</button>\n            </div>\n            )}\n                             {!user &&(\n          <div className='nonloggedinuser'> \n        Sign-in or Sign-Up to write Reviews!\n          </div>\n            )}\n            \n             <div className='reviews' >\n             {reviews && reviews.map((review)=>(\n             <div className='review-content' >\n                 <h2>{review.name}</h2>\n                 {\n                 [...Array(review.rating)].map((index) => {\n                \n                 return(\n                   \n                 \n                     <FaStar className='star' size={25} \n                     color={review.rating  <= review.rating ? \"#ffc107\":\"#e4e5e9\"}/>\n               \n                 )\n\n             })}\n             \n             <div className='review-post'> {review.post} </div>\n                 \n                </div>\n             ))}\n           \n         </div>\n            \n\n   \n                \n              \n            </div>\n       \n        \n    )\n}\nexport default Home"],"mappings":"idAAA,MAAO,CAAAA,KAAK,EAAEC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAC9C,OAAQC,SAAS,KAAO,oBAAoB,CAC5C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,gBAAgB,KAAQ,2BAA2B,CAC5D,OAAQC,MAAM,KAAO,gBAAgB,CACrC,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACnB,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACf,IAAAC,iBAAA,CAA2BR,gBAAgB,CAAC,CAAC,CAAtCS,OAAO,CAAAD,iBAAA,CAAPC,OAAO,CAACC,QAAQ,CAAAF,iBAAA,CAARE,QAAQ,CACvB,IAAAC,eAAA,CAAeZ,cAAc,CAAC,CAAC,CAAxBa,IAAI,CAAAD,eAAA,CAAJC,IAAI,CACX,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,IAAAgB,UAAA,CAAiBjB,SAAS,CAAC,CAAC,CAArBkB,MAAM,CAAAD,UAAA,CAANC,MAAM,CAIbpB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAqB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACM,CAAAC,KAAK,CAAC,kCAAkC,CAAC,QAA1DP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAI,IAAA,CAEV,GAAGR,QAAQ,CAACS,EAAE,CAAC,CACXrB,QAAQ,CAAC,CAACsB,IAAI,CAAC,YAAY,CAAEC,OAAO,CAACV,IAAI,CAAC,CAAC,CAC/C,CAAC,wBAAAG,QAAA,CAAAQ,IAAA,MAAAb,OAAA,GACJ,kBAPK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAOjB,CAEGpB,YAAY,CAAC,CAAC,CAGtB,CAAC,CAAC,CAEF,mBAEIV,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BlC,IAAA,CAACF,MAAM,GAAE,CAAC,CACTU,IAAI,eACNR,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC7BlC,IAAA,WAAQiC,SAAS,CAAC,cAAc,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAK,CAAA1B,QAAQ,CAAC,SAAS,CAAC,EAAC,CAAAyB,QAAA,CAAC,gBAAc,CAAQ,CAAC,CACtF,CACJ,CACiB,CAAC1B,IAAI,eACzBR,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,sCAEjC,CAAK,CACF,cAEAlC,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAAAC,QAAA,CACvB7B,OAAO,EAAIA,OAAO,CAAC+B,GAAG,CAAC,SAACC,MAAM,qBAC/BnC,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BlC,IAAA,OAAAkC,QAAA,CAAKG,MAAM,CAACC,IAAI,CAAK,CAAC,CAEtBC,kBAAA,CAAIC,KAAK,CAACH,MAAM,CAACI,MAAM,CAAC,EAAEL,GAAG,CAAC,SAACM,KAAK,CAAK,CAEzC,mBAGI1C,IAAA,CAACH,MAAM,EAACoC,SAAS,CAAC,MAAM,CAACU,IAAI,CAAE,EAAG,CAClCC,KAAK,CAAEP,MAAM,CAACI,MAAM,EAAKJ,MAAM,CAACI,MAAM,CAAG,SAAS,CAAC,SAAU,CAAC,CAAC,CAIvE,CAAC,CAAC,cAEFvC,KAAA,QAAK+B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAACG,MAAM,CAACQ,IAAI,CAAC,GAAC,EAAK,CAAC,EAE1C,CAAC,EACR,CAAC,CAED,CAAC,EAME,CAAC,CAIlB,CAAC,CACD,cAAe,CAAA1C,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}