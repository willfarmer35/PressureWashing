{"ast":null,"code":"import _objectSpread from\"/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var authReducer=function authReducer(state,action){switch(action.type){case'Login':return{user:action.payload};case'Logout':return{user:null};default:return state;}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,{user:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(user){dispatch({type:'Login',payload:user});}console.log(\"User\"+user);},[]);console.log('AuthContext state:',state);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:children});};","map":{"version":3,"names":["createContext","useReducer","useEffect","jsx","_jsx","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","JSON","parse","localStorage","getItem","console","log","Provider","value","_objectSpread"],"sources":["/Users/willfarmer/Desktop/MERNSTACK/Registration/registration/src/context/AuthContext.js"],"sourcesContent":["import {createContext, useReducer,useEffect} from 'react'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state,action)=> {\n    switch(action.type){\n        case 'Login' :\n            return {user: action.payload}\n        case 'Logout' :\n            return {user:null}\n        default:\n            return state\n    }\n}\nexport const AuthContextProvider = ({children}) => {\n    const [state,dispatch] = useReducer(authReducer,{\n        user : null})\n\n    useEffect(()=> {\n        const user = JSON.parse(localStorage.getItem('user'))\n\n        if(user){\n            dispatch({ type: 'Login', payload:user})\n        }\n        console.log(\"User\" + user)\n    },[])\n\nconsole.log('AuthContext state:', state)\n\n\nreturn (\n    <AuthContext.Provider value ={{...state,dispatch}}>\n        {children}\n    </AuthContext.Provider>\n)\n}"],"mappings":"qSAAA,OAAQA,aAAa,CAAEC,UAAU,CAACC,SAAS,KAAO,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEzD,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,IAAM,CAAAM,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAACC,MAAM,CAAI,CACxC,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,OAAO,CACR,MAAO,CAACC,IAAI,CAAEF,MAAM,CAACG,OAAO,CAAC,CACjC,IAAK,QAAQ,CACT,MAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CACtB,QACI,MAAO,CAAAH,KAAK,CACpB,CACJ,CAAC,CACD,MAAO,IAAM,CAAAK,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAmB,IAAd,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACzC,IAAAC,WAAA,CAAyBd,UAAU,CAACK,WAAW,CAAC,CAC5CI,IAAI,CAAG,IAAI,CAAC,CAAC,CAAAM,YAAA,CAAAC,cAAA,CAAAF,WAAA,IADVR,KAAK,CAAAS,YAAA,IAACE,QAAQ,CAAAF,YAAA,IAGrBd,SAAS,CAAC,UAAK,CACX,GAAM,CAAAQ,IAAI,CAAGS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAErD,GAAGZ,IAAI,CAAC,CACJQ,QAAQ,CAAC,CAAET,IAAI,CAAE,OAAO,CAAEE,OAAO,CAACD,IAAI,CAAC,CAAC,CAC5C,CACAa,OAAO,CAACC,GAAG,CAAC,MAAM,CAAGd,IAAI,CAAC,CAC9B,CAAC,CAAC,EAAE,CAAC,CAETa,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEjB,KAAK,CAAC,CAGxC,mBACIH,IAAA,CAACC,WAAW,CAACoB,QAAQ,EAACC,KAAK,CAAAC,aAAA,CAAAA,aAAA,IAAOpB,KAAK,MAACW,QAAQ,CAARA,QAAQ,EAAE,CAAAJ,QAAA,CAC7CA,QAAQ,CACS,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}